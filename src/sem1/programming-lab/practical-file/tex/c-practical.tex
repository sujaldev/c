%! Author = Sujal Singh
%! Date = 10/18/23

% Preamble
%! suppress = FileNotFound
\documentclass[11pt]{ipu-c}
\usepackage[
    pdftitle={C Programming Lab Practical File},
    pdfsubject={C Programming Lab Practical File},
    pdfauthor={Sujal Singh},
    pdfdisplaydoctitle,
    hidelinks,
]{hyperref}

% Packages
\usepackage{amsmath}
\usepackage[indLines]{algpseudocodex}

% Document
\begin{document}
    \maketitle

    %------------------------------------------------------------------------------------------------------------------%

    \experiment{1}{Write a C program to print ``Hello, World!''}{Program to print ``Hello, World''.}

    \begin{tabularsection}{Algorithm}
        \begin{algorithmic}[1]
            \State Start
            \State{\textbf{print} ``Hello, World!''}
            \State Stop
        \end{algorithmic}
    \end{tabularsection}

    \begin{flowchart}
        \begin{tikzpicture}[node distance=2cm]
            \node (start) [startstop] {Start};
            \node (print) [io, below of=start] {print ``Hello, World!''};
            \node (stop) [startstop,below of=print] {Stop};

            \draw [arrow] (start) -- (print);
            \draw [arrow] (print) -- (stop);
        \end{tikzpicture}
    \end{flowchart}

    \begin{code}
        {Program}{c}
#include <stdio.h>

int main() {
    printf("Hello, World!");
    return 0;
}
    \end{code}
    \begin{code}
        {Input \& Output}{text}
Hello, World!
    \end{code}

    %------------------------------------------------------------------------------------------------------------------%
    %------------------------------------------------------------------------------------------------------------------%

    \experiment{2}{Write a C program to find the greatest number among three numbers provided by the user using if
    else.}{Program that finds the largest number among three numbers input by the user.}

    \begin{tabularsection}{Algorithm}
        \begin{algorithmic}[1]
            \State Start
            \State{\textbf{read} $a, b, c$}
            \If{$a \geq b ~\textbf{and}~ a \geq c$}
                \State $\text{largest} \gets a$

            \ElsIf
                    {$b \geq a ~\textbf{and}~ b \geq c$}
                \State $\text{largest} \gets b$
            \Else
                \State $\text{largest} \gets c$
            \EndIf
            \State \textbf{print} largest
            \State Stop
        \end{algorithmic}
    \end{tabularsection}

    \begin{flowchart}
        \begin{tikzpicture}[transform canvas={scale=0.7},node distance=2cm]
            \node (start) [startstop] {Start};
            \node (input) [io, below of=start] {\textbf{read} $a, b, c$};
            \node (checkA) [decision, below of=input,yshift=-40pt] {$a \geq b ~\textbf{and}~ a \geq c$};
            \node (setA) [process, right of=checkA,xshift=80pt] {$\text{largest} = a$};
            \node (checkB) [decision, below of=checkA,yshift=-80pt] {$b \geq a ~\textbf{and}~ b \geq c$};
            \node (setB) [process, left of=checkB,xshift=-80pt] {$\text{largest} = b$};
            \node (checkC) [process, below of=checkB,yshift=-40pt] {$\text{largest} = c$};
            \node (output) [io, below of=checkC] {\textbf{print} largest};
            \node (stop) [startstop,below of=output] {Stop};

            \draw [arrow] (start) -- (input);
            \draw [arrow] (input) -- (checkA);
            \draw [arrow] (checkA) -- node [anchor=south] {yes} (setA);
            \draw [arrow] (checkA) -- node [anchor=east] {no} (checkB);
            \draw [arrow] (checkB) -- node [anchor=south] {yes} (setB);
            \draw [arrow] (checkB) -- node [anchor=east] {no} (checkC);
            \draw [arrow] (checkC) -- (output);
            \draw [arrow] (output) -- (stop);
            \draw [arrow] (setA) |- (output);
            \draw [arrow] (setB) |- (output);
        \end{tikzpicture}
        \\[350pt]~
    \end{flowchart}

    \newpage
    \begin{code}
        {Program}{c}
#include <stdio.h>

int main() {
    int a, b, c, largest;

    printf("Enter first number: ");
    scanf("%d", &a);

    printf("Enter second number: ");
    scanf("%d", &b);

    printf("Enter third number: ");
    scanf("%d", &c);

    if (a >= b && a >= c) {
        largest = a;
    } else if (b >= a && b >= c) {
        largest = b;
    } else {
        largest = c;
    }

    printf("%d is the largest number.", largest);
    return 0;
}
    \end{code}
    \begin{code}
        {Input \& Output}{text}
Enter first number: 1
Enter second number: 2
Enter third number: 3
3 is the largest number.
    \end{code}

    %------------------------------------------------------------------------------------------------------------------%
    %------------------------------------------------------------------------------------------------------------------%

    \experiment{3}{Write a C program to find the sum of individual digits of a positive integer using while.}
    {Program that uses a while loop to find the sum of the individual digits in a number input by the user.}

    \begin{tabularsection}{Algorithm}
        \begin{algorithmic}[1]
            \State Start
            \State rem, sum \gets 0
            \State \textbf{read} num
            \While{num $\neq 0$}
                \State rem $\gets \text{num} \mod 10$
                \State sum $\gets \text{sum} + \text{rem}$
                \State num $\gets \frac{\text{num}}{10}$
            \EndWhile
            \State \textbf{print} sum
            \State Stop
        \end{algorithmic}
    \end{tabularsection}

    \begin{flowchart}
        \begin{tikzpicture}[transform canvas={scale=0.95}, node distance=2cm]
            \node (start) [startstop] {Start};
            \node (initBuffers) [process, below of=start] {rem, sum $= 0$};
            \node (input) [io, below of=initBuffers] {\textbf{read} num};
            \node (whileCondition) [decision, below of=input,yshift=-20pt] {num $\neq 0$};
            \node (s1) [process, right of=whileCondition,xshift=100pt] {rem $= \text{num}\mod{10}$};
            \node (s2) [process, below of=s1] {sum $= \text{sum} + \text{rem}$};
            \node (s3) [process, below of=s2] {num $= \frac{\text{num}}{10}$};
            \node (output) [io, left of=whileCondition,xshift=-100pt] {\textbf{print} sum};
            \node (stop) [startstop,below of=output] {Stop};

            \draw [arrow] (start) -- (initBuffers);
            \draw [arrow] (initBuffers) -- (input);
            \draw [arrow] (input) -- (whileCondition);
            \draw [arrow] (whileCondition) -- node[anchor=south] {yes} (s1);
            \draw [arrow] (whileCondition) -- node[anchor=south] {no} (output);
            \draw [arrow] (s1) -- (s2);
            \draw [arrow] (s2) -- (s3);
            \draw [arrow] (s3) -| (whileCondition);
            \draw [arrow] (output) -- (stop);
        \end{tikzpicture}
        \\[325pt]
    \end{flowchart}

    \newpage
    \begin{code}
        {Program}{c}
#include <stdio.h>

int main() {
    int num, rem, sum = 0;

    printf("Enter a number: ");
    scanf("%d", &num);

    while (num != 0) {
        rem = num % 10;
        sum += rem;
        num /= 10;
    }

    printf("Sum of digits = %d", sum);
    return 0;
}
    \end{code}
    \begin{code}
        {Input \& Output}{text}
Enter a number: 1234
Sum of digits = 10
    \end{code}

    %------------------------------------------------------------------------------------------------------------------%
    %------------------------------------------------------------------------------------------------------------------%

    \experiment{4(a)}{Write a C program to find the factorial of a given integer using non-recursive function.}
    {Program that finds the factorial of a number input by the user without using a recursive function.}

    \begin{tabularsection}{Algorithm}
        \begin{algorithmic}[1]
            \State Start
            \State fact $\gets 1$
            \State \textbf{read} $n$
            \While{$n \neq 0$}
                \State fact $= \text{fact} \times n$
                \State $n = n - 1$
            \EndWhile
            \State \textbf{print} $n$
            \State Stop
        \end{algorithmic}
    \end{tabularsection}

    \begin{flowchart}
        \begin{tikzpicture}[node distance=2cm]
            \node (start) [startstop] {Start};
            \node (initFact) [process,below of=start] {fact $= 1$};
            \node (input) [io,below of=initFact] {\textbf{read} $n$};
            \node (cond) [decision,below of=input,yshift=-10pt] {$n \neq 0$};
            \node (s1) [process,right of=cond,xshift=100pt] {fact $= \text{fact}\times{n}$};
            \node (s2) [process,below of=s1] {$n = n - 1$};
            \node (output) [io,left of=cond,xshift=-100pt] {\textbf{print} $n$};
            \node (stop) [startstop,below of=output] {Stop};

            \draw [arrow] (start) -- (initFact);
            \draw [arrow] (initFact) -- (input);
            \draw [arrow] (input) -- (cond);
            \draw [arrow] (cond) -- node [anchor=south] {yes} (s1);
            \draw [arrow] (cond) -- node [anchor=south] {no} (output);
            \draw [arrow] (s1) -- (s2);
            \draw [arrow] (s2) -| (cond);
            \draw [arrow] (output) -- (stop);
        \end{tikzpicture}
    \end{flowchart}

    \newpage
    \begin{code}
        {Program}{c}
#include <stdio.h>

int main() {
    int fact = 1, n;

    printf("Enter number: ");
    scanf("%d", &n);

    while (n != 0) {
        fact *= n;
        n -= 1;
    }

    printf("Factorial is %d", fact);
    return 0;
}
    \end{code}
    \begin{code}
        {Input \& Output}{text}
Enter number: 5
Factorial is 120
    \end{code}

    %------------------------------------------------------------------------------------------------------------------%
    %------------------------------------------------------------------------------------------------------------------%

    \experiment{4(b)}{Write a C program to find the factorial of a given integer using recursive function.}
    {Program that finds the factorial of a number input by the user by using a recursive function.}

    \begin{tabularsection}{Algorithm}
        \begin{algorithmic}[1]
            \State Start
            \Function{factorial}{n}
                \If{$n = 0$}
                    \State \Return $1$
                \Else
                    \State \Return $n~\times$ \Call{factorial}{$n-1$}
                \EndIf
            \EndFunction
            \State \textbf{read} $n$
            \State \textbf{print} \Call{factorial}{$n$}
            \State Stop
        \end{algorithmic}
    \end{tabularsection}

    \begin{flowchart}
        \begin{tikzpicture}[node distance=2cm]
            \node (start) [startstop] {Start};
            \node (input) [io,below of=start] {\textbf{read} $n$};
            \node (output) [io,below of=input] {\textbf{print} \texttt{factorial($n$)}};
            \node (stop) [startstop,below of=output] {Stop};

            \draw [arrow] (start) -- (input);
            \draw [arrow] (input) -- (output);
            \draw [arrow] (output) -- (stop);

            \node (factorial) [startstop,right of=start,xshift=150pt] {\texttt{factorial(n)}};
            \node (terminator) [decision,below of=factorial,yshift=-10pt] {$n = 0$};
            \node (r1) [startstop,right of=terminator,xshift=80pt] {\textbf{return} $1$};
            \node (r2) [startstop,below of=terminator,yshift=-10pt]
            {\textbf{return} $n~\times~$\texttt{factorial($n - 1$)}};

            \draw [arrow] (factorial) -- (terminator);
            \draw [arrow] (terminator) -- node [anchor=south] {yes} (r1);
            \draw [arrow] (terminator) -- node [anchor=east] {no} (r2);
            \draw [arrow] (r2) |- ($ (r2) + (-3.5,-2) $) -- ($ (factorial) + (-3.5, 0) $) -- (factorial);
        \end{tikzpicture}
    \end{flowchart}

    \newpage
    \begin{code}
        {Program}{c}
#include <stdio.h>

int factorial(int n) {
    if (n == 0) {
        return 1;
    }

    return n * factorial(n - 1);
}

int main() {
    int n;

    printf("Enter number: ");
    scanf("%d", &n);

    printf("Factorial of %d is %d", n, factorial(n));

    return 0;
}
    \end{code}
    \begin{code}
        {Input \& Output}{text}
Enter number: 5
Factorial of 5 is 120
    \end{code}

    %------------------------------------------------------------------------------------------------------------------%
    %------------------------------------------------------------------------------------------------------------------%

    \experiment{5}{Write a C program to find GCD of two integers by using a recursive function.}
    {Program that finds the greatest common denominator of two integers input by the user using a recursive function.}

    \begin{tabularsection}{Algorithm}
        \begin{algorithmic}[1]
            \State Start
            \Function{gcd}{a, b}
                \If{$b \neq 0$}
                    \State \Return \Call{gcd}{$b,~a\mod{b}$}
                \Else
                    \State \Return $a$
                \EndIf
            \EndFunction
            \State \textbf{read} a, b
            \State \textbf{print} \Call{gcd}{a, b}
            \State Stop
        \end{algorithmic}
    \end{tabularsection}

    \begin{flowchart}
        \begin{tikzpicture}[node distance=2cm]
            \node (start) [startstop] {Start};
            \node (input) [io,below of=start] {\textbf{read} $a, b$};
            \node (output) [io,below of=input] {\textbf{print} \texttt{gcd($a, b$)}};
            \node (stop) [startstop,below of=output] {Stop};

            \draw [arrow] (start) -- (input);
            \draw [arrow] (input) -- (output);
            \draw [arrow] (output) -- (stop);

            \node (gcd) [startstop,right of=start,xshift=150pt] {\texttt{gcd(a, b)}};
            \node (checkB) [decision,below of=gcd,yshift=-10pt] {$b \neq 0$};
            \node (r1) [startstop,right of=checkB,xshift=80pt] {\textbf{return} a};
            \node (r2) [startstop,below of=checkB,yshift=-10pt] {\textbf{return} \texttt{gcd($b,~a\mod{b}$)}};

            \draw [arrow] (gcd) -- (checkB);
            \draw [arrow] (checkB) -- node [anchor=south] {no} (r1);
            \draw [arrow] (checkB) -- node [anchor=east] {yes} (r2);
            \draw [arrow] (r2) |- ($ (r2) + (-3.5,-2) $) -- ($ (factorial) + (-3.5, 0) $) -- (gcd);
        \end{tikzpicture}
    \end{flowchart}

    \newpage
    \begin{code}
        {Program}{c}
#include <stdio.h>

int gcd(int a, int b) {
    if (b != 0) {
        return gcd(b, a % b);
    }
    return a;
}

int main() {
    int a, b;

    printf("Enter first number: ");
    scanf("%d", &a);

    printf("Enter second number: ");
    scanf("%d", &b);

    printf("GCD(%d, %d) = %d", a, b, gcd(a, b));

    return 0;
}
    \end{code}
    \begin{code}
        {Input \& Output}{text}
Enter first number: 5
Enter second number: 10
GCD(5, 10) = 5
    \end{code}

    %------------------------------------------------------------------------------------------------------------------%
\end{document}